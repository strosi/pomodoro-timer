(this["webpackJsonppomodoro-timer"]=this["webpackJsonppomodoro-timer"]||[]).push([[0],{12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(7),s=c.n(i),r=(c(12),c(2)),o=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},l=c(0),j=function(e){var t=e.changeTimerSettings,c=e.timerInitialSettings,n=Object(a.useState)("Pomodoro Timer"),i=Object(r.a)(n,2),s=i[0],j=i[1],u=Object(a.useState)(!1),d=Object(r.a)(u,2),b=d[0],m=d[1],O=Object(a.useState)(c[0]),h=Object(r.a)(O,2),f=h[0],v=h[1],x=Object(a.useState)(c[1]),g=Object(r.a)(x,2),p=g[0],k=g[1],S=Object(a.useState)(c[2]),N=Object(r.a)(S,2),T=N[0],C=N[1],y=Object(a.useState)(c[3]),D=Object(r.a)(y,2),I=D[0],M=D[1];return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("h1",{children:s}),b?Object(l.jsxs)("form",{className:"set-timer-form",onSubmit:function(e){if(e.preventDefault(),f&&p&&T&&I){var a=[f,p,T,I];t(a),m(!1),o(a,c)?j("Pomodoro Timer"):j("Custom Timer")}else alert("Please, fill in all the fields")},children:[Object(l.jsxs)("div",{className:"set-timer-fields",children:[Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Work Sessions (count)"}),Object(l.jsx)("input",{type:"number",value:f,onChange:function(e){return v(parseInt(e.target.value))},min:"1"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Work Duration (min)"}),Object(l.jsx)("input",{type:"number",value:p/60,onChange:function(e){return k(60*parseInt(e.target.value))},min:"1",max:"120"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Short Break (min)"}),Object(l.jsx)("input",{type:"number",value:T/60,onChange:function(e){return C(60*parseInt(e.target.value))},min:"1",max:"30"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Long Break (min)"}),Object(l.jsx)("input",{type:"number",value:I/60,onChange:function(e){return M(60*parseInt(e.target.value))},min:"1",max:"60"})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"submit",value:"Save Timer"}),Object(l.jsx)("input",{type:"button",value:"Cancel",onClick:function(){m(!1),o([f,p,T,I],c)&&j("Pomodoro Timer")}})]})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){t(c),v(c[0]),k(c[1]),C(c[2]),M(c[3]),j("Pomodoro Timer")},children:"Default"}),Object(l.jsx)("button",{onClick:function(){m(!0),j("Custom Timer")},children:"Set Custom Timer"})]})]})},u=c(4),d=function(e){var t=e.onAdd,c=Object(a.useState)(""),n=Object(r.a)(c,2),i=n[0],s=n[1];return Object(l.jsxs)("form",{className:"add-form",onSubmit:function(e){if(e.preventDefault(),i){var c=Math.random().toString(16).substr(2,9);t({id:c,content:i,isActive:!1,trackedTime:0,isCompleted:!1}),s("")}else alert("Please add a task")},children:[Object(l.jsx)("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},placeholder:"What is your goal?",onFocus:function(e){e.target.placeholder=""},onBlur:function(e){e.target.placeholder="What is your goal?"}}),Object(l.jsx)("input",{type:"submit",value:"Save"})]})},b=function(e){var t=e.currentTask,c=e.onEdit,n=e.onCancel,i=Object(a.useState)(t.content),s=Object(r.a)(i,2),o=s[0],j=s[1];return Object(l.jsxs)("form",{className:"edit-form",onSubmit:function(e){e.preventDefault();var a=t;a.content=o,c(a),n()},children:[Object(l.jsx)("label",{children:"Edit Task"}),Object(l.jsx)("input",{type:"text",value:o,onChange:function(e){j(e.target.value)}}),Object(l.jsx)("input",{type:"submit",value:"Save Changes"}),Object(l.jsx)("input",{type:"button",value:"Cancel",onClick:function(){n()}})]})},m=function(e,t){var c=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t?c.toString()+":":"")+(a>9?a.toString():"0"+a.toString())+":"+(n>9?n.toString():"0"+n.toString())},O="static/media/timer.32dc4364.svg",h="static/media/timer-active.3fdd8705.svg",f="static/media/edit.89010b86.svg",v="static/media/delete.b075d129.svg",x=function(e){var t=e.task,c=e.isTracking,a=e.onChange,n=function(e){var c=e.target.alt,n="";""===c?(t.isCompleted=e.currentTarget.checked,n="complete"):"Track task"===c?n="start-track":"Stop tracking task"===c?n="stop-track":"Edit task"===c?n="edit":"Delete task"===c&&(n="delete"),a(t,n)};return Object(l.jsxs)("div",{className:"task \n                        ".concat(t.isActive?"active-task":"waiting"," \n                        ").concat(t.isCompleted?"completed":""),children:[Object(l.jsx)("div",{className:"status-marker"}),Object(l.jsxs)("div",{className:"task-text-and-state",children:[Object(l.jsx)("div",{className:"task-content",children:Object(l.jsx)("p",{children:t.content})}),Object(l.jsx)("div",{className:"task-state",children:Object(l.jsxs)("label",{className:"complete-btn",children:[Object(l.jsx)("input",{type:"checkbox",checked:t.isCompleted,onChange:n}),Object(l.jsx)("span",{className:"checkmark"}),Object(l.jsx)("span",{className:"status",children:t.isCompleted?"Completed":t.isActive?"Active":"Waiting"}),Object(l.jsxs)("span",{className:"time",children:[t.trackedTime<3600?"0:":"",m(t.trackedTime,t.trackedTime>=3600)]}),Object(l.jsx)("span",{className:"time-label",children:"Tracked time"})]})})]}),Object(l.jsxs)("div",{className:"task-buttons",children:[c?Object(l.jsxs)("button",{className:"icon stop-track",onClick:n,children:[Object(l.jsx)("img",{src:h,alt:"Stop task tracking","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Stop tracking"})]}):Object(l.jsxs)("button",{className:"icon start-track",onClick:n,children:[Object(l.jsx)("img",{src:O,alt:"Track task","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Start tracking"})]}),Object(l.jsxs)("button",{className:"icon edit",onClick:n,children:[Object(l.jsx)("img",{src:f,alt:"Edit task","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Edit"})]}),Object(l.jsxs)("button",{className:"icon delete",onClick:n,children:[Object(l.jsx)("img",{src:v,alt:"Delete task","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Delete"})]})]})]})},g=function(e){var t=e.tasks,c=e.isTracking,a=e.onChange;return Object(l.jsxs)("div",{className:"tasks",children:[Object(l.jsx)("div",{className:"tasks-list-title",children:Object(l.jsx)("p",{children:"Tasks"})}),Object(l.jsx)("div",{className:"tasks-list",children:t.map((function(e){return Object(l.jsx)(x,{task:e,isTracking:!!e.isActive&&c,onChange:a},e.id)}))})]})},p=function(e,t){var c=Object(a.useState)((function(){var c=localStorage.getItem(t);return null!==c?JSON.parse(c):e})),n=Object(r.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,s]},k=function(e){var t=e.task,c=e.onCancel,a=e.onDelete;return Object(l.jsxs)("div",{className:"popup",children:[Object(l.jsx)("div",{className:"popup-blocker",onClick:c}),Object(l.jsx)("div",{className:"delete-dialog",children:Object(l.jsxs)("div",{className:"delete-dialog-content",children:[Object(l.jsxs)("p",{children:["Do you really want to delete ",Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:['"',t.content,'"']})," task?"]}),Object(l.jsxs)("div",{className:"delete-buttons",children:[Object(l.jsx)("button",{onClick:a,children:"Delete"}),Object(l.jsx)("button",{onClick:c,children:"Cancel"})]})]})})]})},S=function(e){var t=e.getTrackedTask,c=e.time,n=Object(a.useState)(!0),i=Object(r.a)(n,2),s=i[0],o=i[1],j=p("","tasks"),m=Object(r.a)(j,2),O=m[0],h=m[1],f=Object(a.useRef)(O);f.current=O;var v=Object(a.useState)(),x=Object(r.a)(v,2),S=x[0],N=x[1],T=Object(a.useRef)(S);T.current=S;var C=Object(a.useState)(!1),y=Object(r.a)(C,2),D=y[0],I=y[1],M=Object(a.useState)(!1),w=Object(r.a)(M,2),B=w[0],A=w[1],P=Object(a.useCallback)((function(){var e=Object(u.a)(f.current);e.filter((function(e){return e.id===T.current.id})).trackedTime=T.current.trackedTime,h(e)}),[h]);Object(a.useEffect)((function(){void 0!==T.current&&P()}),[c,P]);return Object(l.jsxs)("div",{className:"todolist-section",children:[Object(l.jsxs)("div",{className:"todolist",children:[Object(l.jsxs)("div",{className:"section-title",children:[Object(l.jsx)("h2",{children:"To-do List"}),Object(l.jsx)("p",{children:"Set goals to track with the timer"})]}),s?Object(l.jsx)(d,{onAdd:function(e){h([].concat(Object(u.a)(O),[e]))}}):Object(l.jsx)(b,{currentTask:S,onEdit:function(e){var t=Object(u.a)(O);t.filter((function(t){return t.id===e.id})).content=e.content,h(t)},onCancel:function(){o(!0)}}),Object(l.jsx)("div",{className:s?"":"disabled",children:O.length?Object(l.jsx)(g,{tasks:O,isTracking:D,onChange:function(e,c){if(void 0===T.current){var a=f.current.filter((function(e){return!0===e.isActive}))[0];a&&(a.isActive=!1)}if(void 0!==T.current&&T.current!==e){var n=T.current;n.isActive=!1,N(n)}if(e.isActive=!0,"start-track"!==c&&(I(!1),t(void 0)),"complete"===c){var i=Object(u.a)(O);i.filter((function(t){return t.id===e.id})).isCompleted=e.isCompleted,h(i)}else"start-track"===c?(I(!0),t(e)):"edit"===c?(o(!1),t(void 0)):"delete"===c&&A(!0);N(e)}}):Object(l.jsx)("p",{children:"There's no items in the To-do List yet."})})]}),B&&Object(l.jsx)(k,{task:T.current,onDelete:function(){h(O.filter((function(e){return e.id!==T.current.id}))),A(!1)},onCancel:function(){A(!1)}})]})},N=function(e){var t=e.totalTime;return Object(l.jsxs)("div",{className:"counter",children:[Object(l.jsx)("div",{className:"total-time",children:m(t,t>59)}),Object(l.jsx)("p",{children:"Total time left"})]})},T="static/media/reset.e65ac108.svg",C=function(e){var t=e.reset,c=e.manageTimerState,a=e.isTimerStarted;return Object(l.jsx)("div",{className:"controls",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("button",{className:"icon reset-btn",onClick:t,children:[Object(l.jsx)("img",{src:T,alt:"Reset timer","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Reset"})]}),a?Object(l.jsxs)("button",{className:"icon",onClick:c,children:[Object(l.jsx)("div",{className:"play-btn pause","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Pause"})]}):Object(l.jsxs)("button",{className:"icon",onClick:c,children:[Object(l.jsx)("div",{className:"play-btn","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Play"})]})]})})},y=function(e){var t=e.id,c=e.stageName,a=e.duration,n=e.position,i=e.stageRadius;return Object(l.jsxs)("g",{id:t,className:"stage-container ".concat(0===a?"passed-time":""),style:n,children:[Object(l.jsx)("circle",{cx:"50%",cy:"50%",r:i}),Object(l.jsx)("text",{className:"stage-name",x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"central",dominantBaseline:"central",children:c}),Object(l.jsx)("text",{className:"stage-time",x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"central",dominantBaseline:"central",children:m(a,a>3540)})]})},D=function(e,t,c){var a=(Math.pow(t,2)+Math.pow(c,2)-Math.pow(e,2))/(2*t*c);return Math.acos(a)*(180/Math.PI)},I=function(e){var t=e.stagesArray,c=e.radius,a=e.stageRadius,n=e.progressBarLength,i=e.offset,s=t.length,r=360/(s+1),o=D(a,c,c),j=Math.sin(r*(Math.PI/180))*c,u=Math.cos(r*(Math.PI/180))*c;return Object(l.jsx)("div",{className:"timer-cycle",children:Object(l.jsxs)("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("circle",{className:"circle-passive",cx:"50%",cy:"50%",r:c,strokeDasharray:n}),Object(l.jsx)("path",{className:"circle-active",d:"\n                        M".concat(c+8,",").concat(8," \n                        A").concat(c,",").concat(c," 0 1,1 ").concat(c-j+8,",").concat(c-u+8,"\n                    "),strokeDasharray:n,strokeDashoffset:i}),function(){for(var e=[],n=1,i=0;i<s;i++){var j=void 0,u=t[i],d=(r*n+180-o+1)*(Math.PI/180)*-1,b={transform:"translateX(calc(".concat(Math.sin(d)*c,"px)) \n                    translateY(calc(").concat(Math.cos(d)*c,"px))")};j=i%2===0?"Work":i===s-1?"Long Break":"Break",e.push(Object(l.jsx)(y,{id:n,stageName:j,duration:u,position:b,stageRadius:a},n.toString())),n++}return e}().map((function(e){return e}))]})})},M=function(e,t,c,a){for(var n=[],i=e+(e-1)+1,s=0;s<i;s++){var r=void 0;r=s%2===0?t:s===i-1?a:c,n.push(r)}return n},w=function(e,t){for(var c=[],a=0;a<e.length;a++){var n=t/e[a];c.push(n)}return c},B=function(e,t){for(var c=0,a=0;a<e.length;a++)c+=e[a]*t[a];return c},A="static/media/work-sound.cc345e76.mp3",P="static/media/break-sound.4f38882b.mp3",R="static/media/beep.355b3186.mp3",E=function(e){var t=e.workSessions,c=e.workDuraton,n=e.shortBreakDuration,i=e.longBreakDuration,s=e.getTimerStage,o=e.trackingTaskText,j=t*c+(t-1)*n+i,u=Object(a.useRef)(j);u.current=j;var d=M(t,c,n,i),b=Object(a.useRef)(d);b.current=d;var m=Object(a.useState)(j),O=Object(r.a)(m,2),h=O[0],f=O[1],v=Object(a.useRef)(h);v.current=h;var x=Object(a.useState)(!1),g=Object(r.a)(x,2),p=g[0],k=g[1],S=Object(a.useRef)(p);S.current=p;var T=Object(a.useState)(d),y=Object(r.a)(T,2),D=y[0],E=y[1],L=Object(a.useRef)(D);L.current=D;var J=Object(a.useState)(1),W=Object(r.a)(J,2),F=W[0],X=W[1],Y=Object(a.useRef)(F);Y.current=F;var q=2*Math.PI*52/(b.current.length+1),z=q*b.current.length,G=w(b.current,q),H=-1*Math.round(Math.abs(z-B(G,L.current))),K=Object(a.useCallback)((function(){s(Y.current%2!==0)}),[s]),Q=Object(a.useRef)(new Audio);Object(a.useEffect)((function(){var e;return p?e=setInterval((function(){var t=L.current,c=Y.current,a=t[c-1];a>0?0===--a&&(Q.current.src=c%2!==0?P:c===t.length?R:A,Q.current.play()):c<t.length&&(X(++c),a=t[c-1],a--),t[c-1]=a,E(t);var n=v.current;if(f(--n),0===n){clearInterval(e);var i=S.current;k(!i)}K()}),1e3):clearInterval(e),function(){return clearInterval(e)}}),[p,K]);var U=function(){f(u.current),E(b.current),X(1),k(!1)};Object(a.useEffect)((function(){U()}),[t,c,n,i]);return Object(l.jsxs)("div",{className:"timer-section",children:[Object(l.jsx)("div",{className:"timer-bckgr"}),Object(l.jsx)("p",{className:"tracking-task-text",children:o||"There isn't tracking task"}),Object(l.jsx)(N,{totalTime:h}),Object(l.jsx)(C,{reset:U,manageTimerState:function(){k(!p),0===h&&(f(j),E(d),X(1))},isTimerStarted:p}),Object(l.jsx)(I,{stagesArray:D,radius:52,stageRadius:8,progressBarLength:z,offset:H})]})},L=function(e,t){var c=Object(a.useState)((function(){var c=sessionStorage.getItem(t);return null!==c?JSON.parse(c):e})),n=Object(r.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){sessionStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,s]};var J=function(){var e=[3,1500,300,900],t=L(e,"timer"),c=Object(r.a)(t,2),n=c[0],i=c[1],s=Object(a.useState)(n[0]),o=Object(r.a)(s,2),u=o[0],d=o[1],b=Object(a.useState)(n[1]),m=Object(r.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(n[2]),v=Object(r.a)(f,2),x=v[0],g=v[1],p=Object(a.useState)(n[3]),k=Object(r.a)(p,2),N=k[0],T=k[1],C=Object(a.useState)(),y=Object(r.a)(C,2),D=y[0],I=y[1],M=Object(a.useState)(),w=Object(r.a)(M,2),B=w[0],A=w[1];return console.log(n[1]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(j,{changeTimerSettings:function(e){i(e),d(e[0]),h(e[1]),g(e[2]),T(e[3])},timerInitialSettings:e}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(E,{workSessions:u,workDuraton:O,shortBreakDuration:x,longBreakDuration:N,getTimerStage:function(e){if(void 0!==D&&e){var t=D;t.trackedTime++,I(D),A(t.trackedTime)}},trackingTaskText:D&&D.content}),Object(l.jsx)(S,{getTrackedTask:function(e){I(e)},time:B})]})]})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(J,{})}),document.getElementById("root")),W()}},[[14,1,2]]]);
//# sourceMappingURL=main.40d7b1a7.chunk.js.map