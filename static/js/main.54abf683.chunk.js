(this["webpackJsonppomodoro-timer"]=this["webpackJsonppomodoro-timer"]||[]).push([[0],{12:function(t,e,c){},14:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),i=c(7),r=c.n(i),s=(c(12),c(2)),o=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},l=c(0),j=function(t){var e=t.changeTimerSettings,c=t.timerInitialSettings,n=Object(a.useState)("Pomodoro Timer"),i=Object(s.a)(n,2),r=i[0],j=i[1],u=Object(a.useState)(!1),b=Object(s.a)(u,2),d=b[0],O=b[1],m=Object(a.useState)(c[0]),v=Object(s.a)(m,2),h=v[0],f=v[1],g=Object(a.useState)(c[1]),x=Object(s.a)(g,2),p=x[0],k=x[1],S=Object(a.useState)(c[2]),N=Object(s.a)(S,2),T=N[0],C=N[1],y=Object(a.useState)(c[3]),I=Object(s.a)(y,2),M=I[0],D=I[1];return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("h1",{children:r}),d?Object(l.jsxs)("form",{className:"set-timer-form",onSubmit:function(t){if(t.preventDefault(),h&&p&&T&&M){var a=[h,p,T,M];e(a),O(!1),o(a,c)?j("Pomodoro Timer"):j("Custom Timer")}else alert("Please, fill all fields")},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Work Sessions"}),Object(l.jsx)("input",{type:"number",value:h,onChange:function(t){return f(parseInt(t.target.value))},min:"1"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Work Duration"}),Object(l.jsx)("input",{type:"number",value:p,onChange:function(t){return k(parseInt(t.target.value))},min:"1"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Short Break Duration"}),Object(l.jsx)("input",{type:"number",value:T,onChange:function(t){return C(parseInt(t.target.value))},min:"1"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Long Break Duration"}),Object(l.jsx)("input",{type:"number",value:M,onChange:function(t){return D(parseInt(t.target.value))},min:"1"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"submit",value:"Save Timer"}),Object(l.jsx)("input",{type:"button",value:"Cancel",onClick:function(){O(!1),o([h,p,T,M],c)&&j("Pomodoro Timer")}})]})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){e(c),f(c[0]),k(c[1]),C(c[2]),D(c[3]),j("Pomodoro Timer")},children:"Default"}),Object(l.jsx)("button",{onClick:function(){O(!0),j("Custom Timer")},children:"Set Custom Timer"})]})]})},u=c(4),b=function(t){var e=t.onAdd,c=Object(a.useState)(""),n=Object(s.a)(c,2),i=n[0],r=n[1];return Object(l.jsxs)("form",{className:"add-form",onSubmit:function(t){if(t.preventDefault(),i){var c=Math.random().toString(16).substr(2,9);e({id:c,content:i,isActive:!1,trackedTime:0,isCompleted:!1}),r("")}else alert("Please add a task")},children:[Object(l.jsx)("input",{type:"text",value:i,onChange:function(t){return r(t.target.value)},placeholder:"What is your goal?",onFocus:function(t){t.target.placeholder=""},onBlur:function(t){t.target.placeholder="What is your goal?"}}),Object(l.jsx)("input",{type:"submit",value:"Save"})]})},d=function(t){var e=t.currentTask,c=t.onEdit,n=t.onCancel,i=Object(a.useState)(e.content),r=Object(s.a)(i,2),o=r[0],j=r[1];return Object(l.jsxs)("form",{className:"edit-form",onSubmit:function(t){t.preventDefault();var a=e;a.content=o,c(a),n()},children:[Object(l.jsx)("label",{children:"Edit Task"}),Object(l.jsx)("input",{type:"text",value:o,onChange:function(t){j(t.target.value)}}),Object(l.jsx)("input",{type:"submit",value:"Save Changes"}),Object(l.jsx)("input",{type:"button",value:"Cancel",onClick:function(){n()}})]})},O=function(t,e){var c=0;e&&(c=Math.floor(t/3600));var a=Math.floor(t%3600/60),n=Math.floor(t%3600%60);return(e?(c>9?c.toString():"0"+c.toString())+":":"")+(a>9?a.toString():"0"+a.toString())+":"+(n>9?n.toString():"0"+n.toString())},m="static/media/timer.32dc4364.svg",v="static/media/timer-active.3fdd8705.svg",h="static/media/edit.89010b86.svg",f="static/media/delete.b075d129.svg",g=function(t){var e=t.task,c=t.isTracking,a=t.onChange,n=function(t){var c=t.target.alt,n="";""===c?(e.isCompleted=t.currentTarget.checked,n="complete"):"Track task"===c?n="start-track":"Stop tracking task"===c?n="stop-track":"Edit task"===c?n="edit":"Delete task"===c&&(n="delete"),a(e,n)};return Object(l.jsxs)("div",{className:"task \n                        ".concat(e.isActive?"active-task":"waiting"," \n                        ").concat(e.isCompleted?"completed":""),children:[Object(l.jsx)("div",{className:"status-marker"}),Object(l.jsxs)("div",{className:"task-text-and-state",children:[Object(l.jsx)("div",{className:"task-content",children:Object(l.jsx)("p",{children:e.content})}),Object(l.jsx)("div",{className:"task-state",children:Object(l.jsxs)("label",{className:"complete-btn",children:[Object(l.jsx)("input",{type:"checkbox",checked:e.isCompleted,onChange:n}),Object(l.jsx)("span",{className:"checkmark"}),Object(l.jsx)("span",{className:"status",children:e.isCompleted?"Completed - ":e.isActive?"Active - ":"Waiting - "}),Object(l.jsx)("span",{className:"time",children:O(e.trackedTime)}),Object(l.jsx)("span",{className:"time-label",children:"Tracked time"})]})})]}),Object(l.jsxs)("div",{className:"task-buttons",children:[c?Object(l.jsxs)("button",{className:"icon stop-track",onClick:n,children:[Object(l.jsx)("img",{src:v,alt:"Stop task tracking","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Stop tracking"})]}):Object(l.jsxs)("button",{className:"icon start-track",onClick:n,children:[Object(l.jsx)("img",{src:m,alt:"Track task","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Start tracking"})]}),Object(l.jsxs)("button",{className:"icon edit",onClick:n,children:[Object(l.jsx)("img",{src:h,alt:"Edit task","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Edit"})]}),Object(l.jsxs)("button",{className:"icon delete",onClick:n,children:[Object(l.jsx)("img",{src:f,alt:"Delete task","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Delete"})]})]})]})},x=function(t){var e=t.tasks,c=t.isTracking,a=t.onChange;return Object(l.jsxs)("div",{className:"tasks",children:[Object(l.jsx)("div",{className:"tasks-list-title",children:Object(l.jsx)("p",{children:"Tasks"})}),Object(l.jsx)("div",{className:"tasks-list",children:e.map((function(t){return Object(l.jsx)(g,{task:t,isTracking:!!t.isActive&&c,onChange:a},t.id)}))})]})},p=function(t,e){var c=Object(a.useState)((function(){var c=localStorage.getItem(e);return null!==c?JSON.parse(c):t})),n=Object(s.a)(c,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,r]},k=function(t){var e=t.getTrackedTask,c=t.time,n=Object(a.useState)(!0),i=Object(s.a)(n,2),r=i[0],o=i[1],j=p("","tasks"),O=Object(s.a)(j,2),m=O[0],v=O[1],h=Object(a.useRef)(m);h.current=m;var f=Object(a.useState)(),g=Object(s.a)(f,2),k=g[0],S=g[1],N=Object(a.useRef)(k);N.current=k;var T=Object(a.useState)(!1),C=Object(s.a)(T,2),y=C[0],I=C[1],M=Object(a.useCallback)((function(){var t=Object(u.a)(h.current);t.filter((function(t){return t.id===N.current.id})).trackedTime=N.current.trackedTime,v(t)}),[v]);Object(a.useEffect)((function(){void 0!==N.current&&M()}),[c,M]);return Object(l.jsxs)("div",{className:"todolist section",children:[Object(l.jsxs)("div",{className:"section-title",children:[Object(l.jsx)("h2",{children:"To-do List"}),Object(l.jsx)("p",{children:"Set goals to track with the timer"})]}),r?Object(l.jsx)(b,{onAdd:function(t){v([].concat(Object(u.a)(m),[t]))}}):Object(l.jsx)(d,{currentTask:k,onEdit:function(t){var e=Object(u.a)(m);e.filter((function(e){return e.id===t.id})).content=t.content,v(e)},onCancel:function(){o(!0)}}),Object(l.jsx)("div",{className:r?"":"disabled",children:m.length?Object(l.jsx)(x,{tasks:m,isTracking:y,onChange:function(t,c){if(void 0===N.current){var a=h.current.filter((function(t){return!0===t.isActive}))[0];a&&(a.isActive=!1)}if(void 0!==N.current&&N.current!==t){var n=N.current;n.isActive=!1,S(n)}if(t.isActive=!0,"start-track"!==c&&(I(!1),e(void 0)),"complete"===c){var i=Object(u.a)(m);i.filter((function(e){return e.id===t.id})).isCompleted=t.isCompleted,v(i)}else"start-track"===c?(I(!0),e(t)):"edit"===c?(o(!1),e(void 0)):"delete"===c&&v(m.filter((function(e){return e.id!==t.id})));S(t)}}):Object(l.jsx)("p",{children:"There's no items in the To-do List yet."})})]})},S=function(t){var e=t.totalTime;return Object(l.jsxs)("div",{className:"counter",children:[Object(l.jsx)("div",{className:"total-time",children:O(e,e>59)}),Object(l.jsx)("p",{children:"Total time left"})]})},N="static/media/reset.e65ac108.svg",T=function(t){var e=t.reset,c=t.manageTimerState,a=t.isTimerStarted;return Object(l.jsx)("div",{className:"controls",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("button",{className:"icon reset-btn",onClick:e,children:[Object(l.jsx)("img",{src:N,alt:"Reset timer","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Reset"})]}),a?Object(l.jsxs)("button",{className:"icon",onClick:c,children:[Object(l.jsx)("div",{className:"play-btn pause","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Pause"})]}):Object(l.jsxs)("button",{className:"icon",onClick:c,children:[Object(l.jsx)("div",{className:"play-btn","aria-describedby":"notification-label"}),Object(l.jsx)("div",{role:"tooltip",id:"notification-label",children:"Play"})]})]})})},C=function(t){var e=t.id,c=t.stageName,a=t.duration,n=t.styles,i=t.position;return Object(l.jsx)("div",{id:e,className:"stage-container ".concat(n," ").concat(0===a?"passed-time":""),style:i,children:Object(l.jsxs)("div",{className:"stage-content",children:[Object(l.jsx)("p",{className:"stage-name",children:c}),Object(l.jsx)("p",{className:"stage-time",children:O(a,a>3540)})]})})},y=function(t,e,c){var a=(Math.pow(e,2)+Math.pow(c,2)-Math.pow(t,2))/(2*e*c);return Math.acos(a)*(180/Math.PI)},I=function(t){var e=t.stagesArray,c=t.radius,a=t.stageRadius,n=t.progressBarLength,i=t.offset,r=e.length,s=360/(r+1),o=y(a,c,c),j=Math.sin(s*(Math.PI/180))*c,u=Math.cos(s*(Math.PI/180))*c;return Object(l.jsxs)("div",{className:"timer-cycle",children:[Object(l.jsxs)("svg",{viewBox:"0 0 570 570",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("circle",{className:"circle-passive",cx:"50%",cy:"50%",r:c,strokeDasharray:n}),Object(l.jsx)("path",{className:"circle-active",d:"\n                        M".concat(c+5,",").concat(5," \n                        A").concat(c,",").concat(c," 0 1,1 ").concat(c-j+5,",").concat(c-u+5,"\n                    "),strokeDasharray:n,strokeDashoffset:i})]}),Object(l.jsx)("div",{className:"stages",children:function(){for(var t=[],a=1,n=0;n<r;n++){var i=void 0,j=void 0,u=e[n],b=(s*a-o+1)*(Math.PI/180),d={transform:"translateX(calc(-50% + ".concat(Math.sin(b)*c,"px)) \n                    translateY(calc(-50% - ").concat(Math.cos(b)*c,"px))")};n%2===0?(i="Work",j="work-session"):n===r-1?(i="Long Break",j="break-stage"):(i="Short Break",j="break-stage"),t.push(Object(l.jsx)(C,{id:a,stageName:i,duration:u,styles:j,position:d},a.toString())),a++}return t}().map((function(t){return t}))})]})},M=function(t,e,c,a){for(var n=[],i=t+(t-1)+1,r=0;r<i;r++){var s=void 0;s=r%2===0?e:r===i-1?a:c,n.push(s)}return n},D=function(t,e){for(var c=[],a=0;a<t.length;a++){var n=e/t[a];c.push(n)}return c},w=function(t,e){for(var c=0,a=0;a<t.length;a++)c+=t[a]*e[a];return c},P=function(t){var e=t.workSessions,c=t.workDuraton,n=t.shortBreakDuration,i=t.longBreakDuration,r=t.getTimerStage,o=t.trackingTaskText,j=e*c+(e-1)*n+i,u=Object(a.useRef)(j);u.current=j;var b=M(e,c,n,i),d=Object(a.useRef)(b);d.current=b;var O=Object(a.useState)(j),m=Object(s.a)(O,2),v=m[0],h=m[1],f=Object(a.useRef)(v);f.current=v;var g=Object(a.useState)(!1),x=Object(s.a)(g,2),p=x[0],k=x[1],N=Object(a.useRef)(p);N.current=p;var C=Object(a.useState)(b),y=Object(s.a)(C,2),P=y[0],A=y[1],B=Object(a.useRef)(P);B.current=P;var E=Object(a.useState)(1),R=Object(s.a)(E,2),L=R[0],J=R[1],W=Object(a.useRef)(L);W.current=L;var F=2*Math.PI*280/(d.current.length+1),X=F*d.current.length,Y=D(d.current,F),q=-Math.round(Math.abs(X-w(Y,B.current))),z=Object(a.useCallback)((function(){r(W.current%2!==0)}),[r]);Object(a.useEffect)((function(){var t;return p?t=setInterval((function(){var e=B.current,c=W.current,a=e[c-1];a>0?a--:c<e.length&&(J(++c),a=e[c-1],a--),e[c-1]=a,A(e);var n=f.current;if(h(--n),0===n){clearInterval(t);var i=N.current;k(!i)}z()}),1e3):clearInterval(t),function(){return clearInterval(t)}}),[p,z]);var G=function(){h(u.current),A(d.current),J(1),k(!1)};Object(a.useEffect)((function(){G()}),[e,c,n,i]);return Object(l.jsxs)("div",{className:"timer section",children:[Object(l.jsx)("p",{className:"tracking-task-text",children:o||"There isn't tracking task"}),Object(l.jsx)(S,{totalTime:v}),Object(l.jsx)(T,{reset:G,manageTimerState:function(){k(!p),0===v&&(h(j),A(b),J(1))},isTimerStarted:p}),Object(l.jsx)(I,{stagesArray:P,radius:280,stageRadius:42.5,progressBarLength:X,offset:q})]})},A=function(t,e){var c=Object(a.useState)((function(){var c=sessionStorage.getItem(e);return null!==c?JSON.parse(c):t})),n=Object(s.a)(c,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,r]};var B=function(){var t=[3,15,5,10],e=A(t,"timer"),c=Object(s.a)(e,2),n=c[0],i=c[1],r=Object(a.useState)(n[0]),o=Object(s.a)(r,2),u=o[0],b=o[1],d=Object(a.useState)(n[1]),O=Object(s.a)(d,2),m=O[0],v=O[1],h=Object(a.useState)(n[2]),f=Object(s.a)(h,2),g=f[0],x=f[1],p=Object(a.useState)(n[3]),S=Object(s.a)(p,2),N=S[0],T=S[1],C=Object(a.useState)(),y=Object(s.a)(C,2),I=y[0],M=y[1],D=Object(a.useState)(),w=Object(s.a)(D,2),B=w[0],E=w[1];return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(j,{changeTimerSettings:function(t){i(t),b(t[0]),v(t[1]),x(t[2]),T(t[3])},timerInitialSettings:t}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(P,{workSessions:u,workDuraton:m,shortBreakDuration:g,longBreakDuration:N,getTimerStage:function(t){if(void 0!==I&&t){var e=I;e.trackedTime++,M(I),E(e.trackedTime)}},trackingTaskText:I&&I.content}),Object(l.jsx)(k,{getTrackedTask:function(t){M(t)},time:B})]})]})},E=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,r=e.getTTFB;c(t),a(t),n(t),i(t),r(t)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root")),E()}},[[14,1,2]]]);
//# sourceMappingURL=main.54abf683.chunk.js.map